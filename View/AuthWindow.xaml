<Window x:Class="DoAnNote.AuthWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:local="clr-namespace:DoAnNote"
        mc:Ignorable="d"
        Title="Tài khoản" Height="680" Width="1200">
    <Window.Resources>
        <Style x:Key="RoundedPasswordBoxWithWatermark" TargetType="{x:Type PasswordBox}">
            <Setter Property="Height" Value="42"/>
            <Setter Property="Padding" Value="12,0"/>
            <Setter Property="Background" Value="White"/>
            <Setter Property="BorderBrush" Value="#E0E0E0"/>
            <Setter Property="BorderThickness" Value="1"/>
            <Setter Property="VerticalContentAlignment" Value="Center"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="{x:Type PasswordBox}">
                        <Border CornerRadius="10"
                Background="{TemplateBinding Background}"
                BorderBrush="{TemplateBinding BorderBrush}"
                BorderThickness="{TemplateBinding BorderThickness}">
                            <Grid>
                                <!-- host -->
                                <ScrollViewer x:Name="PART_ContentHost"/>

                                <!-- watermark nằm TRÊN host, lấy text từ Tag -->
                                <TextBlock x:Name="Watermark"
                       Text="{TemplateBinding Tag}"
                       Margin="12,0"
                       Foreground="#99000000"
                       VerticalAlignment="Center"
                       IsHitTestVisible="False"/>
                            </Grid>
                        </Border>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>

            <!-- Cập nhật watermark theo sự kiện (vì Password không phải DP) -->
            <EventSetter Event="PasswordChanged" Handler="PasswordBox_PasswordChanged"/>
            <EventSetter Event="GotFocus"        Handler="PasswordBox_GotFocus"/>
            <EventSetter Event="LostFocus"       Handler="PasswordBox_LostFocus"/>
            <EventSetter Event="Loaded"          Handler="PasswordBox_Loaded"/>
        </Style>
    </Window.Resources>
    
    <Grid>
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="1*"/>
            <ColumnDefinition Width="1.3*"/>
        </Grid.ColumnDefinitions>

        <Border Grid.Column="0" Background="#FFFFFFFF"/>
        <Grid Grid.Column="0" Margin="60,40,40,40" VerticalAlignment="Center">
            <Border CornerRadius="8" BorderBrush="#00000010" BorderThickness="1" Padding="12" Background="White">
                <Image Source="/Assets/illustration.png" Stretch="Uniform"/>
            </Border>
        </Grid>

        <!-- form -->
        <Grid Grid.Column="1" Margin="60" VerticalAlignment="Center">
            <Border Background="White" CornerRadius="16" BorderBrush="#00000010" BorderThickness="1"/>
            <Grid Margin="40" HorizontalAlignment="Center" Width="420">
                <Grid.RowDefinitions>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="24"/>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="12"/>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="12"/>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="12"/>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="20"/>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="12"/>
                    <RowDefinition Height="Auto"/>
                </Grid.RowDefinitions>


                <Grid Grid.Row="0" Panel.ZIndex="10" Margin="0,0,0,8">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="40"/>
                        <ColumnDefinition Width="*"/>
                    </Grid.ColumnDefinitions>

                    <Button x:Name="BtnBack" Grid.Column="0" Width="36" Height="36"
        Style="{StaticResource BackIconButton}"
        Click="BtnBack_Click" ToolTip="Trở về">
                        <Image x:Name="IconBack" Width="20" Height="20"   Source="/Assets/TrangChinh/Light/Back_light.png"/>
                    </Button>


                    <StackPanel Grid.Column="1">
                        <TextBlock x:Name="TxtTitle" Text="Đăng nhập"
               FontSize="24" FontWeight="Black" Margin="8,0,0,0"/>
                        <TextBlock x:Name="TxtSubtitle" Text="Nhập tài khoản để tiếp tục"
               Foreground="#808080" Margin="8,4,0,0"/>
                    </StackPanel>
                </Grid>


                <!-- HỌ TÊN trong nút đk -->
                <TextBox x:Name="TxtFullName" Grid.Row="2"
           Style="{StaticResource RoundedTextBox}"
           Height="42" FontSize="14" Padding="12,0"
           BorderBrush="#E0E0E0" BorderThickness="1" Background="White"
           Tag="Họ và tên"
           Margin="40,0,40,12"
           Visibility="Collapsed"/>

                <!-- USERNAME -->
                <TextBox x:Name="TxtUser" Grid.Row="4"
           Style="{StaticResource RoundedTextBox}"
           Height="42" FontSize="14" Padding="12,0"
           BorderBrush="#E0E0E0" BorderThickness="1" Background="White"
           Tag="Tên tài khoản" Margin="40,0,40,12"/>

                <!-- PASSWORD -->
                <PasswordBox x:Name="Pwd1" Grid.Row="6"
               Style="{StaticResource RoundedPasswordBoxWithWatermark}"
               Padding="12,0" BorderBrush="#E0E0E0" BorderThickness="1"
               Background="White" Margin="40,0,40,12"
               Tag="Nhập mật khẩu"/>

                <!-- CONFIRM PASSWORD (đăng ký) -->
                <PasswordBox x:Name="Pwd2" Grid.Row="8"
               Style="{StaticResource RoundedPasswordBoxWithWatermark}"
               Padding="12,0" BorderBrush="#E0E0E0" BorderThickness="1"
               Background="White" Margin="40,0,40,12"
               Tag="Nhập lại mật khẩu"
               Visibility="Collapsed"/>


                <!-- PRIMARY BUTTON -->
                <Button x:Name="BtnPrimary" Grid.Row="10" Height="44"
          Style="{StaticResource RoundedButton}"
          Background="#30C58D" Margin="40,0,40,0"
          Click="BtnPrimary_Click">
                    <TextBlock x:Name="BtnPrimaryText" Text="Đăng nhập" FontWeight="SemiBold"/>
                </Button>

                <!-- SWITCH LINK -->
                <TextBlock x:Name="TxtSwitch" Grid.Row="12" HorizontalAlignment="Center"
             Foreground="#666" Cursor="Hand" MouseLeftButtonUp="TxtSwitch_MouseLeftButtonUp">
    Bạn chưa có tài khoản? <Run Text="Đăng ký" FontWeight="SemiBold" Foreground="#30C58D"/>
                </TextBlock>
            </Grid>
        </Grid>
    </Grid>
</Window>
